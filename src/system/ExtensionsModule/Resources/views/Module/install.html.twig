{% form_theme form with [
    '@ZikulaFormExtension/Form/bootstrap_4_zikula_admin_layout.html.twig',
    '@ZikulaFormExtension/Form/form_div_layout.html.twig'
] %}
{{ adminHeader() }}
<h3>
    <span class="fas fa-plus"></span>
    {% trans %}Install module{% endtrans %} '{{ extension.displayname }}'
    {{ pageSetVar('title', 'Install module'|trans) }}
</h3>

{{ form_start(form) }}
{{ form_errors(form) }}
<table class="table table-bordered table-striped">
    <colgroup>
        <col id="cModule" />
        <col id="cLevel" />
        <col id="cReason" />
        <col id="cInstall" />
    </colgroup>
    <thead>
        <tr>
            <th id="hModule" scope="col">{% trans %}Module name{% endtrans %}</th>
            <th id="hLevel" scope="col">{% trans %}Level{% endtrans %}</th>
            <th id="hReason" scope="col">{% trans %}Reason{% endtrans %}</th>
            <th id="hInstall" scope="col">{% trans %}Install{% endtrans %}</th>
        </tr>
    </thead>
    <tbody>
        {% for checkbox in form.dependencies %}
        <tr{% if checkbox.vars.data == false %} class="table-warning"{% endif %}>
            <td headers="hModule">{{ dependencies[checkbox.vars.name].modname }}</td>
            <td headers="hLevel">
                {% if dependencies[checkbox.vars.name].status == 1 %}
                    <span class="badge badge-danger">{% trans %}Required{% endtrans %}</span>
                {% else %}
                    <span class="badge badge-info">{% trans %}Recommended{% endtrans %}</span>
                    {% if checkbox.vars.data == false %} <span class="badge badge-danger">{% trans %}Not Available in System{% endtrans %}</span> {% endif %}
                {% endif %}
            </td>
            <td headers="hReason">{{ dependencies[checkbox.vars.name].reason }}</td>
            <td headers="hInstall">{{ form_widget(checkbox, {'disabled': (dependencies[checkbox.vars.name].status == constant('Zikula\Bundle\CoreBundle\Composer\MetaData::DEPENDENCY_REQUIRED')) or (checkbox.vars.data == false)}) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<div class="form-group row">
    <div class="col-md-9 offset-md-3">
        {{ form_widget(form.install) }}
        {{ form_widget(form.cancel) }}
    </div>
</div>
{{ form_end(form) }}
{{ adminFooter() }}
