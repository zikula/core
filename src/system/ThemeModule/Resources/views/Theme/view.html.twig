{{ pageAddAsset('javascript', zasset('@ZikulaThemeModule:js/ZikulaThemeModule.Admin.View.js')) }}
{{ adminHeader() }}
<h3>
    <span class="fas fa-list"></span>
    {% trans %}Themes list{% endtrans %}
    {{ pageSetVar('title', 'Themes list'|trans) }}
</h3>
<p class="alert alert-info">{% trans %}Themes control the visual presentation of a site.{% endtrans %}</p>
<table class="table table-bordered table-striped">
    <colgroup>
        <col id="cName" />
        <col id="cDescription" />
        <col id="cVersion" />
        <col id="cState" />
        <col id="cActions" />
    </colgroup>
    <thead>
        <tr>
            <th id="hName" scope="col">{% trans %}Name{% endtrans %}</th>
            <th id="hDescription" scope="col">{% trans %}Description{% endtrans %}</th>
            <th id="hVersion" scope="col" style="width: 8em">{% trans %}Version{% endtrans %}</th>
            <th id="hState" scope="col">{% trans %}State{% endtrans %}</th>
            <th id="hActions" scope="col" class="text-right">{% trans %}Actions{% endtrans %}</th>
        </tr>
    </thead>
    <tbody>
        {% for theme in themes %}
        <tr {% if theme.name|lower == currenttheme|lower %}class="success"{% endif %}>
            <td headers="hName">
                {% set img = '<img src="' ~ getPreviewImagePath(theme.name) ~ '">' %}
                <a href="{{ path('home', {'theme': theme.name}) }}" title="{{ theme.displayname }}{% if theme.name|lower == currenttheme|lower %} ({% trans %}Default theme{% endtrans %}){% endif %}" class="marktooltip" data-trigger="hover" data-html="true" data-content='{{ img }}' target="_blank">
                   {{ theme.displayname }}
                </a>
                {% if theme.name|lower == currenttheme|lower %}<span class="required"></span>{% endif %}
            </td>
            <td headers="hDescription">
                {{ theme.description|default(theme.displayname) }}
            </td>
            <td headers="hVersion">
                {{ theme.version }}
            </td>
            <td headers="hState">
                <span class="badge badge-{% if theme.state == 1 %}success{% else %}danger{% endif %}">{% if theme.state == 1 %}{% trans %}Active{% endtrans %}{% else %}{% trans %}Inactive{% endtrans %}{% endif %}</span>
            </td>
            <td headers="hActions" class="actions">
                {% set themeArg = {'themeName': theme.name} %}
                {% if theme.state != 1 %}
                    <a href="{{ path('zikulathememodule_theme_activate', themeArg) }}"><span class="fas fa-cog tooltips" title="{% trans with {'%theme%': theme.displayname} %}Activate %theme%{% endtrans %}"></span></a>
                {% endif %}
                {% if theme.name != currenttheme and theme.user and theme.state == 1 %}
                    <a href="{{ path('zikulathememodule_theme_setasdefault', themeArg) }}"><span class="fas fa-check tooltips" title="{% trans with {'%theme%': theme.displayname} %}Set %theme% as site theme{% endtrans %}"></span></a>
                {% endif %}
                {% if theme.state == 1 %}
                    <a href="{{ path('zikulathememodule_theme_preview', themeArg) }}" title="{{ theme.displayname }}" target="_blank"><span class="fas fa-eye tooltips" title="{% trans %}Preview{% endtrans %} {{ theme.displayname }}"></span></a>
                {% endif %}
                {% if theme.state == 1 and theme.vars %}
                    <a href="{{ path('zikulathememodule_var_var', themeArg) }}"><span class="fas fa-pencil-alt tooltips" title="{% trans %}Edit{% endtrans %} {{ theme.displayname }}"></span></a>
                {% endif %}
                {% if theme.name != currenttheme and theme.state == 1 %}
                    <a href="{{ path('zikulathememodule_theme_delete', themeArg) }}"><span class="fas fa-trash-alt tooltips" title="{% trans %}Delete or deactivate{% endtrans %} {{ theme.displayname }}"></span></a>
                {% endif %}
                <a href="{{ path('zikulathememodule_theme_credits', themeArg) }}"><span class="fas fa-info-circle tooltips" title="{% trans %}Credits for{% endtrans %} {{ theme.displayname }}"></span></a>
            </td>
        </tr>
        {% else %}
        <tr class="table-info"><td colspan="5" class="text-center">{% trans %}No items found.{% endtrans %}</td></tr>
        {% endfor %}
    </tbody>
</table>
<p><em><span class="required"></span> = {% trans %}Default theme{% endtrans %}</em></p>
{{ adminFooter() }}
