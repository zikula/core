<h3>
    <span class="fas fa-list"></span>
    {% trans %}Users list{% endtrans %}
    {{ pageSetVar('title', 'Users list'|trans) }}
</h3>

<div id="user-search-container" class="form d-none">
    <div class="input-group">
        <input placeholder="{% trans %}Search{% endtrans %}" id="user-search" class="form-control" size="25" maxlength="25" type="text" value="" data-route="zikulausersmodule_useradministration_getusersbyfragmentastable" />
        <div class="input-group-append">
            <span class="input-group-text"><i class="fas fa-times pointer" id="user-search-discard"></i></span>
        </div>
    </div>
    <small class="form-text text-muted">
        {% trans %}This search does not include <em>pending</em> users.{% endtrans %}
    </small>
</div>
<p id="user-search-min-char" class="d-none">{% trans %}Please enter at least 3 characters{% endtrans %}</p>

<div class="pt-2">{{ include(alpha.template) }}</div>

<div id="user-list">
    <table id="user-table" class="table table-bordered table-striped">
        <colgroup>
            <col id="cUserName" />
            <col id="cId" />
            <col id="cRegistrationDate" />
            <col id="cLastLogin" />
            <col id="cAuthMethod" />
            <col id="cGroups" />
            <col id="cStatus" />
            <col id="cActions" />
        </colgroup>
        <thead>
            <tr>
                <th id="hUserName" scope="col"><a class="{{ sort.uname.class }}" href="{{ sort.uname.url }}">{% trans %}User name{% endtrans %}</a></th>
                <th id="hId" scope="col"><a class="{{ sort.uid.class }}" href="{{ sort.uid.url }}" title="{% trans %}Internal ID{% endtrans %}">UID</a></th>
                <th id="hRegistrationDate" scope="col"><a class="{{ sort.registrationDate.class }}" href="{{ sort.registrationDate.url }}">{% trans %}Registration date{% endtrans %}</a></th>
                <th id="hLastLogin" scope="col"><a class="{{ sort.lastLogin.class }}" href="{{ sort.lastLogin.url }}">{% trans %}Last login{% endtrans %}</a></th>
                <th id="hAuthMethod" scope="col">{% trans %}Auth Method{% endtrans %}</th>
                <th id="hGroups" scope="col">{% trans %}Users groups{% endtrans %}</th>
                <th id="hStatus" scope="col"><a class="{{ sort.activated.class }}" href="{{ sort.activated.url }}">{% trans %}Status{% endtrans %}</a></th>
                <th id="hActions" scope="col">{% trans %}Actions{% endtrans %}</th>
            </tr>
        </thead>
        <tbody>
            {{ include('@ZikulaUsersModule/UserAdministration/userlist.html.twig', {users: paginator.results}) }}
        </tbody>
    </table>
    {{ include(paginator.template) }}
</div>

{# This table is for ajax search results and is hidden until needed and populated then with the results. #}
<table id="user-search-list" class="table table-bordered table-striped d-none">
    <colgroup>
        <col id="cSearchUserName" />
        <col id="cSearchId" />
        <col id="cSearchRegistrationDate" />
        <col id="cSearchLastLogin" />
        <col id="cSearchAuthMethod" />
        <col id="cSearchGroups" />
        <col id="cSearchStatus" />
        <col id="cSearchActions" />
    </colgroup>
    <thead>
        <tr>
            <th id="hSearchUserName" scope="col"><a class="{{ sort.uname.class }}" href="{{ sort.uname.url }}">{% trans %}User name{% endtrans %}</a></th>
            <th id="hSearchId" scope="col"><a class="{{ sort.uid.class }}" href="{{ sort.uid.url }}">{% trans %}Internal ID{% endtrans %}</a></th>
            <th id="hSearchRegistrationDate" scope="col"><a class="{{ sort.registrationDate.class }}" href="{{ sort.registrationDate.url }}">{% trans %}Registration date{% endtrans %}</a></th>
            <th id="hSearchLastLogin" scope="col"><a class="{{ sort.lastLogin.class }}" href="{{ sort.lastLogin.url }}">{% trans %}Last login{% endtrans %}</a></th>
            <th id="hSearchAuthMethod" scope="col">{% trans %}Auth Method{% endtrans %}</th>
            <th id="hSearchGroups" scope="col">{% trans %}Users groups{% endtrans %}</th>
            <th id="hSearchStatus" scope="col"><a class="{{ sort.activated.class }}" href="{{ sort.activated.url }}">{% trans %}Status{% endtrans %}</a></th>
            <th id="hSearchActions" scope="col">{% trans %}Actions{% endtrans %}</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>
{{ pageAddAsset('javascript', zasset('@ZikulaUsersModule:js/Zikula.Users.Admin.View.js')) }}
