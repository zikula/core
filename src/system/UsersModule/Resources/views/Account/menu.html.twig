{{ moduleHeader('user', 'My account'|trans, '', true, true) }}

{% if not currentUser.loggedin %}
    <p>{% trans %}Please select one of the following:{% endtrans %}</p>
    <ul>
        <li><a href="{{ path('zikulausersmodule_access_login') }}">{% trans %}I would like to login.{% endtrans %}</a></li>
        {% if getModVar('ZikulaUsersModule', constant('Zikula\\UsersModule\\Constant::MODVAR_REGISTRATION_ENABLED'), constant('Zikula\\UsersModule\\Constant::DEFAULT_REGISTRATION_ENABLED')) %}
            <li><a href="{{ path('zikulausersmodule_registration_register') }}">{% trans %}I would like to create a new account.{% endtrans %}</a></li>
        {% endif %}
        <li><a href="{{ path('zikulazauthmodule_account_lostusername') }}">{% trans %}I have forgotten my account information (for example, my user name).{% endtrans %}</a></li>
        <li><a href="{{ path('zikulazauthmodule_account_lostpassword') }}">{% trans %}I have forgotten my password.{% endtrans %}</a></li>
    </ul>
{% endif %}

{% set displayGraphics = getModVar('ZikulaUsersModule', constant('Zikula\\UsersModule\\Constant::MODVAR_ACCOUNT_DISPLAY_GRAPHICS'), constant('Zikula\\UsersModule\\Constant::DEFAULT_ACCOUNT_DISPLAY_GRAPHICS')) %}
{% set width = 100/getModVar('ZikulaUsersModule', 'accountitemsperrow') %}
{% for link in accountLinks|default %}
    <div class="z-accountlink" style="width: {{ width|round(1, 'floor') }}%">
        {% if displayGraphics %}
            {% set imageTitle = link.text|replace({'"': ''}) %}
            {% if link.icon[:4] == 'http' or not link.module|default %}
                {% set icon = '<img title="' ~ imageTitle ~ '" src="'~link.icon~'" />' %}
            {% elseif '.' in link.icon and link.module|default %}
                {% set icon = '<img title="' ~ imageTitle ~ '" src="'~zasset('@'~link.module~':images/'~link.icon)~'" />' %}
            {% else %}
                {% set icon = '<i title="' ~ imageTitle ~ '" class="fas fa-2x fa-'~link.icon~'"></i>' %}
            {% endif %}
            <a href="{{ link.url }}">{{ icon|raw }}</a><br />
        {% endif %}
        <a href="{{ link.url }}">{{ link.text }}</a>
    </div>
{% endfor %}
<br style="clear: left" />

{{ moduleFooter() }}
